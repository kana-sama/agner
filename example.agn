reverse(List) -> reverse(List, []).
reverse([H|T], Acc) -> reverse(T, [H|Acc]);
reverse([], Acc) -> Acc.

map(F, [H|T]) -> [F(H)|map(F, T)];
map(F, []) -> [].

inc(N) -> N + 1.

main() ->
  A = reverse(map(fun inc/1, [1, 2, 3, 4])),
  agner:print(A),
  agner:print([1 | 2]),
  agner:print([1, 2, 3 | 4]),
  agner:print([1, 2, 3 | [4, 5]]).